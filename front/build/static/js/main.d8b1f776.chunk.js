(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{28:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},34:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),o=a.n(r),c=(a(33),a(34),a(9)),i=a(10),s=a(5),u=a(12),h=a(11),m=a(42),d=a(27),v=a(44),g=a(46),E=a(6),p=a(15),C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",redirect:null},n.onUsernameChange=n.onUsernameChange.bind(Object(s.a)(n)),n.onPasswordChange=n.onPasswordChange.bind(Object(s.a)(n)),n.handleLogin=n.handleLogin.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear("token")}},{key:"onUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),fetch("http://localhost:3001/users/api-auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.success&&(localStorage.setItem("token",e.token),t.setState({redirect:!0}))}))}},{key:"redirect",value:function(){return this.state.redirect?l.a.createElement(E.a,{to:"/events"}):l.a.createElement("div",null)}},{key:"render",value:function(){return l.a.createElement("div",null,this.redirect(),l.a.createElement(m.a,null,l.a.createElement(d.a,null),l.a.createElement(d.a,null,l.a.createElement("div",{className:"border rounded",style:{padding:"10px"}},l.a.createElement(v.a,null,l.a.createElement(v.a.Group,{controlId:"formBasicEmail"},l.a.createElement(v.a.Label,null,"Username"),l.a.createElement(v.a.Control,{type:"email",placeholder:"Enter username",onChange:this.onUsernameChange})),l.a.createElement(v.a.Group,{controlId:"formBasicPassword"},l.a.createElement(v.a.Label,null,"Password"),l.a.createElement(v.a.Control,{type:"password",placeholder:"Password",onChange:this.onPasswordChange})),l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(g.a,{variant:"primary",type:"button",onClick:this.handleLogin},"Login")),l.a.createElement(d.a,null,l.a.createElement(p.b,{to:"register"},"Register")))))),l.a.createElement(d.a,null)))}}]),a}(n.Component),b=a(43),f=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={events:[]},n.handleDelete=n.handleDelete.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3001/events/",{method:"GET",headers:{authorization:localStorage.getItem("token"),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({events:t})}))}},{key:"handleDelete",value:function(e){fetch("http://localhost:3001/events/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",authorization:localStorage.getItem("token")}}).then((function(e){}));var t=this.state.events.filter((function(t){return t.id!==e}));this.setState({events:t})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(d.a,{xs:1}),l.a.createElement(d.a,null,l.a.createElement(m.a,{style:{marginBottom:"10px"}},l.a.createElement("h2",null,"Your event list"),l.a.createElement(g.a,{style:{marginLeft:"10px"},href:"/events/create"},"New event +")),l.a.createElement(b.a,{className:"table",bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Id"),l.a.createElement("th",{scope:"col"},"Nombre"),l.a.createElement("th",{scope:"col"},"Categor\xeda"),l.a.createElement("th",{scope:"col"},"Lugar"),l.a.createElement("th",{scope:"col"},"Direccion"),l.a.createElement("th",{scope:"col"},"Virtual"),l.a.createElement("th",{scope:"col"},"Options"))),l.a.createElement("tbody",null,this.state.events.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.event_name),l.a.createElement("td",null,t.event_category),l.a.createElement("td",null,t.event_place),l.a.createElement("td",null,t.event_address),l.a.createElement("td",null,t.event_type.toString()),l.a.createElement("td",null,l.a.createElement(p.b,{to:{pathname:"/events/detail/"+t.id}},"Details")," / ",l.a.createElement(p.b,{to:{pathname:"/events/"},onClick:function(){return e.handleDelete(t.id)}},"Delete")))}))))),l.a.createElement(d.a,{xs:1})))}}]),a}(n.Component),y=a(45),_=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={event:{id:1,event_type:""}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3001/events/"+this.props.match.params.id,{method:"GET",headers:{authorization:localStorage.getItem("token"),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({event:t})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(d.a,null),l.a.createElement(d.a,null,l.a.createElement(y.a,{style:{width:"25rem",marginBottom:"20px"}},l.a.createElement(y.a.Img,{variant:"top",src:this.state.event.thumbnail}),l.a.createElement(y.a.Body,null,l.a.createElement(y.a.Title,null,this.state.event.event_name),l.a.createElement(y.a.Text,null,"Category: ",this.state.event.event_category,l.a.createElement("br",null),"Place: ",this.state.event.event_place,l.a.createElement("br",null),"Address: ",this.state.event.event_address,l.a.createElement("br",null),"Start date: ",this.state.event.event_initial_date,l.a.createElement("br",null),"End date: ",this.state.event.event_final_date,l.a.createElement("br",null),"Virtual: ",this.state.event.event_type.toString(),l.a.createElement("br",null)),l.a.createElement(g.a,{style:{marginRight:"10px"},href:"/events/edit/"+this.state.event.id,variant:"primary"},"Edit"),l.a.createElement(g.a,{href:"/events",variant:"danger"},"Back")))),l.a.createElement(d.a,null)))}}]),a}(l.a.Component),k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"",first:"",last:"",email:"",password:"",redirect:!1},n.onUsernameChange=n.onUsernameChange.bind(Object(s.a)(n)),n.onFirstChange=n.onFirstChange.bind(Object(s.a)(n)),n.onLastChange=n.onLastChange.bind(Object(s.a)(n)),n.onEmailChange=n.onEmailChange.bind(Object(s.a)(n)),n.onPasswordChange=n.onPasswordChange.bind(Object(s.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"onUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"onFirstChange",value:function(e){this.setState({first:e.target.value})}},{key:"onLastChange",value:function(e){this.setState({last:e.target.value})}},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,first_name:this.state.first,last_name:this.state.last,email:this.state.email,password:this.state.password};fetch("http://localhost:3001/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){e.ok&&t.setState({redirect:!0})}))}},{key:"redirect",value:function(){return this.state.redirect?l.a.createElement(E.a,{to:"/"}):l.a.createElement("div",null)}},{key:"render",value:function(){return l.a.createElement("div",null,this.redirect(),l.a.createElement(m.a,null,l.a.createElement(d.a,null),l.a.createElement(d.a,{xs:6},l.a.createElement("div",{className:"border rounded",style:{padding:"10px"}},l.a.createElement(v.a,{id:"form-login"},l.a.createElement(v.a.Group,{controlId:"formGridUsername"},l.a.createElement(v.a.Label,null,"Username"),l.a.createElement(v.a.Control,{type:"text",placeholder:"Enter username",onChange:this.onUsernameChange})),l.a.createElement(v.a.Row,null,l.a.createElement(v.a.Group,{as:d.a,controlId:"formGridName"},l.a.createElement(v.a.Label,null,"First Name"),l.a.createElement(v.a.Control,{type:"text",placeholder:"Enter first name",onChange:this.onFirstChange})),l.a.createElement(v.a.Group,{as:d.a,controlId:"formGridLast"},l.a.createElement(v.a.Label,null,"Last Name"),l.a.createElement(v.a.Control,{type:"text",placeholder:"Enter last name",onChange:this.onLastChange}))),l.a.createElement(v.a.Group,{controlId:"formGridEmail"},l.a.createElement(v.a.Label,null,"Email"),l.a.createElement(v.a.Control,{type:"email",placeholder:"Enter email",onChange:this.onEmailChange})),l.a.createElement(v.a.Group,{controlId:"formGridPassword"},l.a.createElement(v.a.Label,null,"Password"),l.a.createElement(v.a.Control,{type:"password",placeholder:"Password",onChange:this.onPasswordChange})),l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(g.a,{variant:"primary",type:"button",onClick:this.handleSubmit},"Submit")),l.a.createElement(d.a,null,l.a.createElement(p.b,{to:"/"},"Back to home")))))),l.a.createElement(d.a,null)))}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={event_name:"",event_category:"",event_place:"",event_address:"",event_initial_date:"",event_final_date:"",event_type:!0,thumbnail:null,event_creator:1},n.onNameChange=n.onNameChange.bind(Object(s.a)(n)),n.onCategoryChange=n.onCategoryChange.bind(Object(s.a)(n)),n.onPlaceChange=n.onPlaceChange.bind(Object(s.a)(n)),n.onAddressChange=n.onAddressChange.bind(Object(s.a)(n)),n.onIDateChange=n.onIDateChange.bind(Object(s.a)(n)),n.onFDateChange=n.onFDateChange.bind(Object(s.a)(n)),n.onVirtualChange=n.onVirtualChange.bind(Object(s.a)(n)),n.onThumbChange=n.onThumbChange.bind(Object(s.a)(n)),n.handleCrate=n.handleCrate.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"onNameChange",value:function(e){this.setState({event_name:e.target.value})}},{key:"onCategoryChange",value:function(e){this.setState({event_category:e.target.value})}},{key:"onPlaceChange",value:function(e){this.setState({event_place:e.target.value})}},{key:"onAddressChange",value:function(e){this.setState({event_address:e.target.value})}},{key:"onIDateChange",value:function(e){this.setState({event_initial_date:e.target.value})}},{key:"onFDateChange",value:function(e){this.setState({event_final_date:e.target.value})}},{key:"onVirtualChange",value:function(e){"on"===e.target.value?this.setState({event_type:!0}):this.setState({event_type:!1})}},{key:"onThumbChange",value:function(e){""!==e.target.value&&this.setState({thumbnail:e.target.value})}},{key:"handleCrate",value:function(){console.log(this.state),this.setState({event_creator:2}),fetch("http://localhost:3001/events/",{method:"POST",headers:{authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){console.log(e.json())}))}},{key:"redirect",value:function(e){return e?l.a.createElement(E.a,{to:"/events"}):l.a.createElement("div",null)}},{key:"render",value:function(){return l.a.createElement("div",null,this.redirect(!1),l.a.createElement(m.a,null,l.a.createElement(d.a,{xs:1}),l.a.createElement(d.a,null,l.a.createElement(v.a,null,l.a.createElement(v.a.Row,null,l.a.createElement(v.a.Group,{as:d.a,controlId:"formName"},l.a.createElement(v.a.Label,null,"Event name"),l.a.createElement(v.a.Control,{type:"email",placeholder:"Enter name",onChange:this.onNameChange})),l.a.createElement(v.a.Group,{as:d.a,controlId:"formCategory"},l.a.createElement(v.a.Label,null,"Category"),l.a.createElement(v.a.Control,{as:"select",defaultValue:"Choose...",onChange:this.onCategoryChange},l.a.createElement("option",null,"Choose..."),l.a.createElement("option",null,"Conferencia"),l.a.createElement("option",null,"Seminario"),l.a.createElement("option",null,"Congreso"),l.a.createElement("option",null,"Curso")))),l.a.createElement(v.a.Group,{controlId:"formthumbnail"},l.a.createElement(v.a.Label,null,"Thumbnail link"),l.a.createElement(v.a.Control,{onChange:this.onThumbChange})),l.a.createElement(v.a.Group,{controlId:"formPlace"},l.a.createElement(v.a.Label,null,"Place"),l.a.createElement(v.a.Control,{placeholder:"Bar Blackcat",onChange:this.onPlaceChange})),l.a.createElement(v.a.Group,{controlId:"formAddress"},l.a.createElement(v.a.Label,null,"Address"),l.a.createElement(v.a.Control,{placeholder:"str 123",onChange:this.onAddressChange})),l.a.createElement(v.a.Row,null,l.a.createElement(v.a.Group,{as:d.a,controlId:"InitDate"},l.a.createElement(v.a.Label,null,"Initial Date"),l.a.createElement(v.a.Control,{onChange:this.onIDateChange})),l.a.createElement(v.a.Group,{as:d.a,controlId:"finalDate"},l.a.createElement(v.a.Label,null,"Final Date"),l.a.createElement(v.a.Control,{onChange:this.onFDateChange}))),l.a.createElement(v.a.Group,{controlId:"formVirtual"},l.a.createElement(v.a.Check,{type:"checkbox",label:"Virtual",onChange:this.onVirtualChange})),l.a.createElement(g.a,{variant:"primary",type:"button",onClick:this.handleCrate,href:"/events",style:{marginRight:"10px"}},"Create"),l.a.createElement(g.a,{variant:"danger",type:"button",href:"/events"},"Cancel"))),l.a.createElement(d.a,{xs:1})))}}]),a}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={event_name:"",event_category:"",event_place:"",event_address:"",event_initial_date:"",event_final_date:"",event_type:!0,thumbnail:null,event_creator:1},n.onNameChange=n.onNameChange.bind(Object(s.a)(n)),n.onCategoryChange=n.onCategoryChange.bind(Object(s.a)(n)),n.onPlaceChange=n.onPlaceChange.bind(Object(s.a)(n)),n.onAddressChange=n.onAddressChange.bind(Object(s.a)(n)),n.onIDateChange=n.onIDateChange.bind(Object(s.a)(n)),n.onFDateChange=n.onFDateChange.bind(Object(s.a)(n)),n.onVirtualChange=n.onVirtualChange.bind(Object(s.a)(n)),n.onThumbChange=n.onThumbChange.bind(Object(s.a)(n)),n.handleCrate=n.handleCrate.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3001/events/"+this.props.match.params.id,{method:"GET",headers:{authorization:localStorage.getItem("token"),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({event_name:t.event_name}),e.setState({event_category:t.event_category}),e.setState({event_place:t.event_place}),e.setState({event_address:t.event_address}),e.setState({event_initial_date:t.event_initial_date}),e.setState({event_final_date:t.event_final_date}),e.setState({event_type:t.event_type}),e.setState({thumbnail:t.thumbnail}),e.setState({event_creator:t.event_creator})}))}},{key:"onNameChange",value:function(e){this.setState({event_name:e.target.value})}},{key:"onCategoryChange",value:function(e){this.setState({event_category:e.target.value})}},{key:"onPlaceChange",value:function(e){this.setState({event_place:e.target.value})}},{key:"onAddressChange",value:function(e){this.setState({event_address:e.target.value})}},{key:"onIDateChange",value:function(e){this.setState({event_initial_date:e.target.value})}},{key:"onFDateChange",value:function(e){this.setState({event_final_date:e.target.value})}},{key:"onVirtualChange",value:function(e){"on"===e.target.value?this.setState({event_type:!0}):this.setState({event_type:!1})}},{key:"onThumbChange",value:function(e){""!==e.target.value&&this.setState({thumbnail:e.target.value})}},{key:"handleCrate",value:function(){console.log(this.state),this.setState({event_creator:2}),fetch("http://localhost:3001/events/"+this.props.match.params.id,{method:"PUT",headers:{authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){console.log(e.json())}))}},{key:"redirect",value:function(e){return e?l.a.createElement(E.a,{to:"/events"}):l.a.createElement("div",null)}},{key:"render",value:function(){return l.a.createElement("div",null,this.redirect(!1),l.a.createElement(m.a,null,l.a.createElement(d.a,{xs:1}),l.a.createElement(d.a,null,l.a.createElement(v.a,null,l.a.createElement(v.a.Row,null,l.a.createElement(v.a.Group,{as:d.a,controlId:"formName"},l.a.createElement(v.a.Label,null,"Event name"),l.a.createElement(v.a.Control,{type:"email",placeholder:"Enter name",onChange:this.onNameChange,defaultValue:this.state.event_name})),l.a.createElement(v.a.Group,{as:d.a,controlId:"formCategory"},l.a.createElement(v.a.Label,null,"Category"),l.a.createElement(v.a.Control,{as:"select",onChange:this.onCategoryChange},console.log(this.state.event_category),l.a.createElement("option",null,"Choose..."),l.a.createElement("option",null,"Conferencia"),l.a.createElement("option",null,"Seminario"),l.a.createElement("option",null,"Congreso"),l.a.createElement("option",null,"Curso")))),l.a.createElement(v.a.Group,{controlId:"formthumbnail"},l.a.createElement(v.a.Label,null,"Thumbnail link"),l.a.createElement(v.a.Control,{onChange:this.onThumbChange,defaultValue:this.state.thumbnail})),l.a.createElement(v.a.Group,{controlId:"formPlace"},l.a.createElement(v.a.Label,null,"Place"),l.a.createElement(v.a.Control,{defaultValue:this.state.event_place,onChange:this.onPlaceChange})),l.a.createElement(v.a.Group,{controlId:"formAddress"},l.a.createElement(v.a.Label,null,"Address"),l.a.createElement(v.a.Control,{placeholder:"str 123",onChange:this.onAddressChange,defaultValue:this.state.event_address})),l.a.createElement(v.a.Row,null,l.a.createElement(v.a.Group,{as:d.a,controlId:"InitDate"},l.a.createElement(v.a.Label,null,"Initial Date"),l.a.createElement(v.a.Control,{onChange:this.onIDateChange,defaultValue:this.state.event_initial_date})),l.a.createElement(v.a.Group,{as:d.a,controlId:"finalDate"},l.a.createElement(v.a.Label,null,"Final Date"),l.a.createElement(v.a.Control,{onChange:this.onFDateChange,defaultValue:this.state.event_final_date}))),l.a.createElement(v.a.Group,{controlId:"formVirtual"},l.a.createElement(v.a.Check,{type:"checkbox",label:"Virtual",onChange:this.onVirtualChange,defaultChecked:this.state.event_type})),l.a.createElement(g.a,{variant:"primary",type:"button",href:"/events",onClick:this.handleCrate,style:{marginRight:"10px"}},"Update"),l.a.createElement(g.a,{variant:"danger",type:"button",href:"/events"},"Cancel"))),l.a.createElement(d.a,{xs:1})))}}]),a}(n.Component);var O=function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h1",{style:{textAlign:"center"}},"Welcome to event App"),l.a.createElement("br",null),l.a.createElement(p.a,null,l.a.createElement(E.b,{path:"/",exact:!0,component:C}),l.a.createElement(E.b,{path:"/events/detail/:id",exact:!0,component:_}),l.a.createElement(E.b,{path:"/events/create",exact:!0,component:S}),l.a.createElement(E.b,{path:"/events",exact:!0,component:f}),l.a.createElement(E.b,{path:"/register",component:k}),l.a.createElement(E.b,{path:"/events/edit/:id",component:j})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.d8b1f776.chunk.js.map